<!DOCTYPE html>

<html>
<head>
  <title>chap05.spec.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>chap05.spec.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-pi">"use strict"</span>;

<span class="hljs-keyword">var</span> expect = <span class="hljs-built_in">require</span>(<span class="hljs-string">'expect.js'</span>);
<span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'util'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h1 id="-">プログラムをコントロールする仕組み</h1>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>describe(<span class="hljs-string">'プログラムをコントロールする仕組み'</span>, () =&gt; {</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <h2 id="-">条文分岐</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>  describe(<span class="hljs-string">'条文分岐'</span>, () =&gt; {
    it(<span class="hljs-string">'偶数の例'</span>, (next) =&gt; {
      <span class="hljs-comment">/* ##@range_begin(even_function)*/</span>
      <span class="hljs-keyword">var</span> even = (n) =&gt; {
        <span class="hljs-keyword">if</span>((n % <span class="hljs-number">2</span>) == <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
      };
      <span class="hljs-comment">/* ##@range_end(even_function)*/</span>
      expect(
        even(<span class="hljs-number">2</span>)
      ).to.eql(
        <span class="hljs-literal">true</span>
      );
      expect(
        even(<span class="hljs-number">3</span>)
      ).to.eql(
        <span class="hljs-literal">false</span>
      );
      next();
    });
    it(<span class="hljs-string">'逆数の例'</span>, (next) =&gt; {
      <span class="hljs-comment">/* ##@range_begin(inverse_function)*/</span>
      <span class="hljs-keyword">var</span> inverse = (n) =&gt; {
        <span class="hljs-keyword">if</span>(n === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> / n;
        }
      };
      <span class="hljs-comment">/* ##@range_end(inverse_function)*/</span>
      expect(
        inverse(<span class="hljs-number">2</span>)
      ).to.be(
        <span class="hljs-number">0.5</span>
      );
      expect(
        inverse(<span class="hljs-number">0</span>)
      ).to.be(
        <span class="hljs-number">0</span>
      );
      next();
    });
    it(<span class="hljs-string">'ifは文である'</span>, (next) =&gt; {
      <span class="hljs-comment">/* ##@range_begin(if_statement) */</span>
      <span class="hljs-keyword">if</span>(<span class="hljs-literal">true</span>) {

      } <span class="hljs-keyword">else</span> {

      }
      <span class="hljs-comment">/* ##@range_end(if_statement) */</span>
      next();
    });
    it(<span class="hljs-string">'ifの非正格性'</span>, (next) =&gt; {
      <span class="hljs-comment">/* ##@range_begin(if_nonstrict) */</span>
      <span class="hljs-keyword">var</span> infiniteLoop = (x) =&gt; {
        <span class="hljs-keyword">return</span> infiniteLoop(x);
      };
      <span class="hljs-keyword">var</span> func = (x) =&gt; {
        <span class="hljs-keyword">if</span>(<span class="hljs-literal">true</span>) {
          <span class="hljs-keyword">return</span> x;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">throw</span> {
            name: <span class="hljs-string">""</span>,
            message: <span class="hljs-string">"ここには決して到達しません"</span>
          };
          <span class="hljs-comment">/*return infiniteLoop(x); */</span>
        }
      };
      expect(
        func(<span class="hljs-number">1</span>)
      ).to.eql(
        <span class="hljs-number">1</span>
      );
      <span class="hljs-comment">/* ##@range_end(if_nonstrict) */</span>
      next();
    });
    it(<span class="hljs-string">"三項演算子"</span>, (next) =&gt; {
      <span class="hljs-comment">/* ##@range_begin(trinary_if) */</span>
      <span class="hljs-keyword">var</span> signum = (n) =&gt; {
        <span class="hljs-keyword">return</span> (n &gt; <span class="hljs-number">0</span>)?  <span class="hljs-number">1</span> : (n === <span class="hljs-number">0</span>)? <span class="hljs-number">0</span> : -<span class="hljs-number">1</span>;
      };
      expect(
        signum(<span class="hljs-number">3</span>)
      ).to.eql(
        <span class="hljs-number">1</span>
      );
      expect(
        signum(-<span class="hljs-number">3</span>)
      ).to.eql(
          -<span class="hljs-number">1</span>
      );
      expect(
        signum(<span class="hljs-number">0</span>)
      ).to.eql(
        <span class="hljs-number">0</span>
      );
      <span class="hljs-comment">/* ##@range_end(trinary_if) */</span>
      next();
    });
    it(<span class="hljs-string">'関数渡しで条件文を構築する'</span>, (next) =&gt; {
      <span class="hljs-comment">/* #@range_begin(conditional)         */</span>
      <span class="hljs-keyword">var</span> conditional = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">pred, trueExpr, falseExpr</span>)</span>{
        <span class="hljs-keyword">return</span> (x) =&gt; {
          <span class="hljs-keyword">if</span>(pred(x)){
            <span class="hljs-keyword">return</span> trueExpr(x);
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> falseExpr(x);
          }
        };
      };
      <span class="hljs-keyword">var</span> lessThan = (n) =&gt; {
        <span class="hljs-keyword">return</span> (x) =&gt; {
          <span class="hljs-keyword">return</span> x &lt; n;
        };
      };
      <span class="hljs-keyword">var</span> succ = (n) =&gt; {
        <span class="hljs-keyword">return</span> n + <span class="hljs-number">1</span>;
      };
      expect(
        conditional(lessThan(<span class="hljs-number">3</span>), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">_</span>)</span>{ <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;},<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">_</span>)</span>{ <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;})(<span class="hljs-number">2</span>)
      ).to.eql(
        <span class="hljs-number">1</span>
      );
      <span class="hljs-keyword">var</span> infiniteLoop = (x) =&gt; {
        <span class="hljs-keyword">return</span> infiniteLoop(x);
      };
      expect(conditional(lessThan(<span class="hljs-number">3</span>), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>)</span>{ <span class="hljs-keyword">return</span> x;},<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>)</span>{ <span class="hljs-keyword">return</span> infiniteLoop(x);})(<span class="hljs-number">2</span>)).to.eql(<span class="hljs-number">2</span>);
      <span class="hljs-comment">/* #@range_end(conditional) */</span>
      next();
    });
    it(<span class="hljs-string">'関数渡しで反復文を構築する'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">next</span>) </span>{
      <span class="hljs-comment">/* #@range_begin(loop)            */</span>
      <span class="hljs-keyword">var</span> loop = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">pred, accumulator, expression</span>)</span>{
        <span class="hljs-keyword">if</span>(pred(accumulator)){
          <span class="hljs-keyword">return</span> loop(pred, expression(accumulator), expression);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> accumulator;
        }
      };
      <span class="hljs-keyword">var</span> lessThan = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>)</span>{
          <span class="hljs-keyword">return</span> x &lt; n;
        };
      };
      <span class="hljs-keyword">var</span> succ = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>{
        <span class="hljs-keyword">return</span> n + <span class="hljs-number">1</span>;
      };
      expect(loop(lessThan(<span class="hljs-number">3</span>), <span class="hljs-number">0</span>, succ)).to.eql(<span class="hljs-number">3</span>);
      <span class="hljs-comment">/* #@range_end(loop) */</span>
      next();
    });
    describe(<span class="hljs-string">'真理値'</span>, () =&gt; {
      it(<span class="hljs-string">'チャーチの真理値'</span>, (next) =&gt; {
        <span class="hljs-comment">/* ##@range_begin(church_truth) */</span>
        <span class="hljs-keyword">var</span> _true = (x) =&gt; {
          <span class="hljs-keyword">return</span> (y) =&gt; {
            <span class="hljs-keyword">return</span> x;
          };
        };
        <span class="hljs-keyword">var</span> _false = (x) =&gt; {
          <span class="hljs-keyword">return</span> (y) =&gt; {
            <span class="hljs-keyword">return</span> y;
          };
        };
        <span class="hljs-keyword">var</span> _ifElse = (pred) =&gt; {
          <span class="hljs-keyword">return</span> (x) =&gt; {
            <span class="hljs-keyword">return</span> (y) =&gt; {
              <span class="hljs-keyword">return</span> pred(x)(y);
            };
          };
        };
        <span class="hljs-keyword">var</span> _not = (x) =&gt; {
          <span class="hljs-keyword">return</span> (x(_false))(_true);
        };
        <span class="hljs-keyword">var</span> _and = (x) =&gt; {
          <span class="hljs-keyword">return</span> (y) =&gt; {
            <span class="hljs-keyword">return</span> (x(y))(_false);
          };
        };
        <span class="hljs-keyword">var</span> _or = (x) =&gt; {
          <span class="hljs-keyword">return</span> (y) =&gt; {
            <span class="hljs-keyword">return</span> (x(_true))(y);
          };
        };
        <span class="hljs-comment">/* ##@range_end(church_truth) */</span>
        <span class="hljs-comment">/* ##@range_begin(church_truth_test) */</span>
        expect(
          _true(<span class="hljs-number">1</span>)(<span class="hljs-number">0</span>)
        ).to.be(
          <span class="hljs-number">1</span>
        );
        expect(
          _not(_true)(<span class="hljs-number">1</span>)(<span class="hljs-number">0</span>)
        ).to.be(
          <span class="hljs-number">0</span>
        );
        expect(
          _and(_true)(_true)(<span class="hljs-number">1</span>)(<span class="hljs-number">0</span>)
        ).to.be(
          <span class="hljs-number">1</span>
        );
        expect(
          _ifElse(_true)(<span class="hljs-number">1</span>)(<span class="hljs-number">0</span>)
        ).to.be(
          <span class="hljs-number">1</span>
        );
        expect(
          _ifElse(_false)(<span class="hljs-number">1</span>)(<span class="hljs-number">0</span>)
        ).to.be(
          <span class="hljs-number">0</span>
        );
        expect(((_) =&gt; {
          <span class="hljs-keyword">var</span> eq = (x) =&gt; {
            <span class="hljs-keyword">return</span> (y) =&gt; {
              <span class="hljs-keyword">if</span>(x === y) {
                <span class="hljs-keyword">return</span> _true;
              } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> _false;
              }
            };
          };
          <span class="hljs-keyword">return</span> _ifElse(eq(<span class="hljs-number">0</span>)(<span class="hljs-number">0</span>))(<span class="hljs-number">1</span>)(<span class="hljs-number">0</span>);
        })()).to.be(
          <span class="hljs-number">1</span>
        );
        expect(
          _ifElse(_true)(_false)(_true)(<span class="hljs-number">1</span>)(<span class="hljs-number">0</span>)
        ).to.be(
          <span class="hljs-number">0</span>
        );

        <span class="hljs-comment">/* ##@range_end(church_truth_test) */</span>
        next();
      });
    });
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <h2 id="-switch-">条件分岐としてのswitch文</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>  describe(<span class="hljs-string">'条件分岐としてのswitch文'</span>, () =&gt; {
    it(<span class="hljs-string">"信号機の例"</span>, (next) =&gt; {
      <span class="hljs-keyword">var</span> forward, stop, watchfulForward;
      <span class="hljs-comment">/* #@range_begin(signal) */</span>
      <span class="hljs-keyword">var</span> move;
      <span class="hljs-keyword">var</span> signal = (light) =&gt; {
        <span class="hljs-keyword">switch</span>(light){
        <span class="hljs-keyword">case</span> <span class="hljs-string">"green"</span>:
          move = forward;
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"red"</span>:
          move = stop;
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"yellow"</span>:
          move = watchfulForward;
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
          <span class="hljs-keyword">throw</span> {
            name: <span class="hljs-string">"そのような信号はありません"</span>,
            message: <span class="hljs-string">"unknown: "</span> + light
          };
        }
      }
      <span class="hljs-comment">/* #@range_end(signal) */</span>
      next();
    });
    it(<span class="hljs-string">"通貨の例"</span>, (next) =&gt; {
      <span class="hljs-comment">/* #@range_begin(currency) */</span>
      <span class="hljs-keyword">var</span> move;
      <span class="hljs-keyword">var</span> signal = (currency) =&gt; {
        <span class="hljs-keyword">switch</span>(currency){
        <span class="hljs-keyword">case</span> <span class="hljs-string">"yen"</span>:
          move = forward;
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"dollar"</span>:
          move = stop;
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"euro"</span>:
          move = watchfulForward;
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
          <span class="hljs-keyword">throw</span> {
            name: <span class="hljs-string">"対応していない通貨です"</span>,
            message: <span class="hljs-string">"unknown: "</span> + currency
          };
        }
      }
      <span class="hljs-comment">/* #@range_end(currency) */</span>
      next();
    });
    it(<span class="hljs-string">"compare"</span>, (next) =&gt; {
      <span class="hljs-comment">/* #@range_begin(compare) */</span>
      <span class="hljs-keyword">var</span> compare =  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n,m</span>)</span>{
        <span class="hljs-keyword">if</span> (n &gt; m) {
          <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span>(n === m) {  <span class="hljs-comment">/* ネストされたif文 */</span>
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
          }
        }
      };
      expect(
        compare(<span class="hljs-number">3</span>,<span class="hljs-number">2</span>)
      ).to.eql(
        <span class="hljs-number">1</span>
      );
      expect(
        compare(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)
      ).to.eql(
        <span class="hljs-number">0</span>
      );
      expect(
        compare(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)
      ).to.eql(
          -<span class="hljs-number">1</span>
      );
      <span class="hljs-comment">/* #@range_end(compare) */</span>
      next();
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <h3 id="-">コンビネータによる条件分岐の改善</h3>

            </div>
            
            <div class="content"><div class='highlight'><pre>    describe(<span class="hljs-string">'コンビネータによる条件分岐の改善'</span>, () =&gt; {
      <span class="hljs-keyword">var</span> multiplyOf = (n) =&gt; {
        <span class="hljs-keyword">return</span> (m) =&gt; {
          <span class="hljs-keyword">if</span>((m % n) === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
          }
        }
      };
      <span class="hljs-keyword">var</span> twoFold = multiplyOf(<span class="hljs-number">2</span>);
      <span class="hljs-keyword">var</span> threeFold = multiplyOf(<span class="hljs-number">3</span>);
      <span class="hljs-keyword">var</span> fiveFold = multiplyOf(<span class="hljs-number">5</span>);
      it(<span class="hljs-string">'2と3の倍数で 5の倍数ではない'</span>, (next) =&gt; {
        <span class="hljs-comment">/* ##@range_begin(twoFoldAndThreeFoldButNotFiveFoldByConditional) */</span>
        <span class="hljs-keyword">var</span> twoFold = (n) =&gt; { <span class="hljs-comment">/* 2の倍数を判定する */</span>
          <span class="hljs-keyword">if</span>((n % <span class="hljs-number">2</span>) === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
          }
        };
        <span class="hljs-comment">/*
          3の倍数を判定する threeFold
          5の倍数を判定する fiveFoldも同様に定義したとする
        */</span>
        <span class="hljs-keyword">var</span> twoFoldAndThreeFoldButNotFiveFold = (n) =&gt; {
          <span class="hljs-keyword">if</span>(twoFold(n) &amp;&amp; threeFold(n)) {
            <span class="hljs-keyword">if</span>(fiveFold(n)) {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            } <span class="hljs-keyword">else</span> { <span class="hljs-comment">/* 2の倍数かつ3の倍数で、5の倍数ではない */</span>
              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
          }
        };
        expect(
          twoFoldAndThreeFoldButNotFiveFold(<span class="hljs-number">6</span>)
        ).to.eql(
          <span class="hljs-literal">true</span>
        )
        expect(
          twoFoldAndThreeFoldButNotFiveFold(<span class="hljs-number">30</span>)
        ).to.eql(
          <span class="hljs-literal">false</span>
        )
        <span class="hljs-comment">/* ##@range_end(twoFoldAndThreeFoldButNotFiveFoldByConditional) */</span>
        next();
      });
      <span class="hljs-comment">/* ##@range_begin(logical_combinator) */</span>
      <span class="hljs-keyword">var</span> and = (former, latter) =&gt; {
        <span class="hljs-keyword">return</span> (data) =&gt; {
          <span class="hljs-keyword">if</span> (former(data) &amp;&amp; latter(data)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
          }
        };
      };
      <span class="hljs-keyword">var</span> or = (former, latter) =&gt; {
        <span class="hljs-keyword">return</span> (data) =&gt; {
          <span class="hljs-keyword">if</span> (former(data)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (latter(data)) {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
          }
        };
      };
      <span class="hljs-keyword">var</span> not = (condition) =&gt; {
        <span class="hljs-keyword">return</span> (data) =&gt; {
          <span class="hljs-keyword">if</span> (condition(data)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          }
        };
      };
      <span class="hljs-comment">/* ##@range_end(logical_combinator) */</span>
      it(<span class="hljs-string">'倍数の組み合わせ'</span>, (next) =&gt; {
        <span class="hljs-comment">/* ##@range_begin(logical_combinator_test) */</span>
        expect(
          twoFold(<span class="hljs-number">2</span>)
        ).to.eql(
          <span class="hljs-literal">true</span>
        )
        expect(
          and(and(twoFold,threeFold),not(fiveFold))(<span class="hljs-number">6</span>)
        ).to.eql(
          <span class="hljs-literal">true</span>
        )
        <span class="hljs-comment">/* ##@range_end(logical_combinator_test) */</span>
        expect(
           and(twoFold,threeFold)(<span class="hljs-number">6</span>)
        ).to.eql(
          <span class="hljs-literal">true</span>
        )
        expect(
           and(twoFold,threeFold)(<span class="hljs-number">4</span>)
        ).to.eql(
          <span class="hljs-literal">false</span>
        )
        expect(
          and(and(twoFold,threeFold),not(fiveFold))(<span class="hljs-number">4</span>)
        ).to.eql(
          <span class="hljs-literal">false</span>
        )
        <span class="hljs-comment">/* 2の倍数もしくは3の倍数で5の倍数でもあるもの */</span>
        <span class="hljs-comment">/* ##@range_begin(another_logical_combinator_test) */</span>
        expect(
          and(or(twoFold,threeFold),fiveFold)(<span class="hljs-number">10</span>)
        ).to.eql(
          <span class="hljs-literal">true</span>
        )
        <span class="hljs-comment">/* ##@range_end(another_logical_combinator_test) */</span>
        next();
      });
    });
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <h2 id="-">代数的データ型</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>  describe(<span class="hljs-string">'代数的データ型'</span>, () =&gt; {
    it(<span class="hljs-string">'Listを代数的データ型として実装する'</span>, (next) =&gt; {
      <span class="hljs-comment">/* #@range_begin(list_in_algebraic_datatype) */</span>
      <span class="hljs-keyword">var</span> match = (exp, pattern) =&gt; { <span class="hljs-comment">// パターンマッチを実現する関数</span>
        <span class="hljs-keyword">return</span> exp.call(pattern, pattern);
      };
      <span class="hljs-keyword">var</span> empty = (pattern) =&gt; {
        <span class="hljs-keyword">return</span> pattern.empty;
      };
      <span class="hljs-keyword">var</span> cons = (value, list) =&gt; {
        <span class="hljs-keyword">return</span> (pattern) =&gt; {
          <span class="hljs-keyword">return</span> pattern.cons(value, list);
        };
      };
      <span class="hljs-keyword">var</span> isEmpty = (list) =&gt; {
        <span class="hljs-keyword">return</span> match(list, { <span class="hljs-comment">// match関数で分岐する</span>
          empty: <span class="hljs-literal">true</span>,
          cons: (head, tail) =&gt; { <span class="hljs-comment">// headとtailにそれぞれ先頭要素、末尾要素が入る</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
          },
        })
      };
      <span class="hljs-keyword">var</span> head = (list) =&gt; {
        <span class="hljs-keyword">return</span> match(list, {
          empty: <span class="hljs-literal">undefined</span>, <span class="hljs-comment">// 空のリストには先頭要素はありません</span>
          cons: (head, tail) =&gt; {
            <span class="hljs-keyword">return</span> head;
          },
        })
      };
      <span class="hljs-keyword">var</span> tail = (list) =&gt; {
        <span class="hljs-keyword">return</span> match(list, {
          empty: <span class="hljs-literal">undefined</span>,  <span class="hljs-comment">// 空のリストには末尾要素はありません</span>
          cons: (head, tail) =&gt; {
            <span class="hljs-keyword">return</span> tail;
          },
        })
      };
      <span class="hljs-comment">/* #@range_end(list_in_algebraic_datatype) */</span>
      <span class="hljs-comment">/* #@range_begin(list_in_algebraic_datatype_test) */</span>
      expect(
        isEmpty(empty)         <span class="hljs-comment">// [] は空のリストではある</span>
      ).to.eql(
        <span class="hljs-literal">true</span>
      )
      expect(
        isEmpty(cons(<span class="hljs-number">1</span>,empty)) <span class="hljs-comment">// [1] は空のリストではない</span>
      ).to.eql(
        <span class="hljs-literal">false</span>
      )
      expect(
        head(cons(<span class="hljs-number">1</span>,empty))    <span class="hljs-comment">// [1]の先頭要素は 1 である</span>
      ).to.be(
        <span class="hljs-number">1</span>
      )
      expect(
        isEmpty(tail(cons(<span class="hljs-number">1</span>,empty)))     <span class="hljs-comment">// [1]の末尾要素は空のリストである</span>
      ).to.be(
        <span class="hljs-literal">true</span>
      )
      expect(
        head(tail(cons(<span class="hljs-number">1</span>,cons(<span class="hljs-number">2</span>,empty)))) <span class="hljs-comment">// [1,2]の2番目の要素は2である</span>
      ).to.be(
        <span class="hljs-number">2</span>
      )
      <span class="hljs-comment">/* #@range_end(list_in_algebraic_datatype_test) */</span>
      next();
    });
    it(<span class="hljs-string">'男女の別をsum型で表現する'</span>, (next) =&gt; {
      <span class="hljs-keyword">var</span> BMI = (weight <span class="hljs-comment">/* kg */</span>, height <span class="hljs-comment">/* cm */</span>) =&gt; {
        <span class="hljs-keyword">var</span> height_in_meter = height / <span class="hljs-number">100.0</span>;
        <span class="hljs-keyword">return</span> weight / (height_in_meter * height_in_meter);
      };
      <span class="hljs-keyword">var</span> match = (exp, pattern) =&gt; {
        <span class="hljs-keyword">return</span> exp.call(pattern, pattern);
      };
      <span class="hljs-keyword">var</span> male = (data) =&gt; {
        <span class="hljs-keyword">return</span> (pattern) =&gt; {
          <span class="hljs-keyword">return</span> pattern.male(data);
        }
      };
      <span class="hljs-keyword">var</span> female = (data) =&gt; {
        <span class="hljs-keyword">return</span> (pattern) =&gt; {
          <span class="hljs-keyword">return</span> pattern.female(data);
        };
      }
      <span class="hljs-keyword">var</span> evaluate = (person) =&gt; {
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> match(person, {
          male: (data) =&gt; {
            <span class="hljs-keyword">return</span> {
              BMI: BMI(data.weight, data.height),
              <span class="hljs-comment">/* total body water */</span>
              TBW: data.weight * <span class="hljs-number">0.6</span>,
              <span class="hljs-comment">/* estimated blood volume */</span>
              EBV: <span class="hljs-number">0.168</span> * <span class="hljs-built_in">Math</span>.pow(data.height,<span class="hljs-number">3</span>) + <span class="hljs-number">0.050</span> * data.weight + <span class="hljs-number">0.444</span>
            };
          },
          female: (data) =&gt; {
            <span class="hljs-keyword">return</span> {
              BMI: BMI(data.weight, data.height),
              TBW: data.weight * <span class="hljs-number">0.5</span>,
              <span class="hljs-comment">/* estimated blood volume = 0.250 \times height^3 + 0.625 \times weight - 0.662 */</span>
              EBV: <span class="hljs-number">0.250</span> * <span class="hljs-built_in">Math</span>.pow(data.height,<span class="hljs-number">3</span>) + <span class="hljs-number">0.625</span> * data.weight - <span class="hljs-number">0.662</span>
            };
          },
        });
      }
      <span class="hljs-keyword">var</span> man = male({
        weight: <span class="hljs-number">72</span>,
        height: <span class="hljs-number">175</span>
      });
      <span class="hljs-keyword">var</span> woman = female({
        weight: <span class="hljs-number">54</span>,
        height: <span class="hljs-number">160</span>
      });
      expect(
        evaluate(man).BMI
      ).to.be(<span class="hljs-number">23.510204081632654</span>)
      expect(
        evaluate(woman).TBW
      ).to.be(<span class="hljs-number">27</span>)
      next();
    });
    it(<span class="hljs-string">'数式の例'</span>, (next) =&gt; {
      <span class="hljs-comment">/* #@range_begin(algebraic_datatype) */</span>
      <span class="hljs-keyword">var</span> match = (exp, pattern) =&gt; {
        <span class="hljs-keyword">return</span> exp.call(pattern, pattern);
      };
      <span class="hljs-keyword">var</span> num = (n) =&gt; {
        <span class="hljs-keyword">return</span> (pattern) =&gt; {
          <span class="hljs-keyword">return</span> pattern.num(n);
        };
      };
      <span class="hljs-keyword">var</span> add = (x, y) =&gt; {
        <span class="hljs-keyword">return</span> (pattern) =&gt; {
          <span class="hljs-keyword">return</span> pattern.add(x, y);
        };
      };
      <span class="hljs-keyword">var</span> mul = (x, y) =&gt; {
        <span class="hljs-keyword">return</span> (pattern) =&gt; {
          <span class="hljs-keyword">return</span> pattern.mul(x, y);
        };
      };
      <span class="hljs-keyword">var</span> calculate = (exp) =&gt; {
        <span class="hljs-keyword">return</span> match(exp, { <span class="hljs-comment">// パターンマッチを実行する</span>
          num: (x) =&gt; {
            <span class="hljs-keyword">return</span> x;
          },
          add: (x, y) =&gt; {
            <span class="hljs-keyword">return</span> calculate(x) + calculate(y);
          },
          mul: (x, y) =&gt; {
            <span class="hljs-keyword">return</span> calculate(x) * calculate(y);
          }
        });
      };
      <span class="hljs-keyword">var</span> exp = add(num(<span class="hljs-number">1</span>), mul(num(<span class="hljs-number">2</span>), num(<span class="hljs-number">3</span>)));
      expect(
        calculate(exp)
      ).to.eql(
        <span class="hljs-number">7</span>
      )
      <span class="hljs-comment">/* #@range_end(algebraic_datatype) */</span>
      next();
    });
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <h2 id="-">反復処理の種類と特徴</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>  describe(<span class="hljs-string">"反復処理の種類と特徴"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe(<span class="hljs-string">"while文"</span>, () =&gt; {
      it(<span class="hljs-string">"カウント"</span>, (next) =&gt; {
        <span class="hljs-comment">/* #@range_begin(while_counter) */</span>
        <span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>;         <span class="hljs-comment">// 変数の初期化</span>
        <span class="hljs-keyword">while</span> (counter &lt; <span class="hljs-number">10</span>) {   <span class="hljs-comment">// 反復の条件</span>
          counter = counter + <span class="hljs-number">1</span>; <span class="hljs-comment">// 変数の更新</span>
        }
        expect(
          counter
        ).to.eql(
          <span class="hljs-number">10</span>
        );
        <span class="hljs-comment">/* #@range_end(while_counter) */</span>
        next();
      });</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>it(“length”, (next) =&gt; {
  /<em> #@range_begin(while_length) </em>/
  var array = [1,2,3,4,5];
  var length = (array) =&gt; {
   var counter = 0;
   while (counter &lt; 10) {
      counter += 1;
   }
  }
  expect(
    counter
  ).to.eql(
    10
  );
  /<em> #@range_end(while_length) </em>/
  next();
});
it(“whileによるsum”, (next) =&gt; {
  /<em> #@range_begin(while_sum) </em>/
  var array = [1,2,3,4,5];
  var sum = (array) =&gt; {
   var counter = 0;
   while (counter &lt; 10) {
      counter += 1;
   }
  }
  expect(
    counter
  ).to.eql(
    10
  );
  /<em> #@range_end(while_sum) </em>/
  next();
});</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    });
    it(<span class="hljs-string">"for文"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">next</span>) </span>{
      <span class="hljs-comment">/* #@range_begin(for_example) */</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>; counter &lt; <span class="hljs-number">10</span>; counter += <span class="hljs-number">1</span>) {
        ;
      }
      expect(
        counter
      ).to.eql(
        <span class="hljs-number">10</span>
      );
      <span class="hljs-comment">/* #@range_end(for_example) */</span>
      next();
    });
    describe(<span class="hljs-string">'forEach文'</span>, () =&gt; {
      it(<span class="hljs-string">"forEach文によるsum"</span>, (next) =&gt; {
        <span class="hljs-comment">/* #@range_begin(forEach_sum) */</span>
        <span class="hljs-keyword">var</span> array = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>];
        <span class="hljs-keyword">var</span> sum = <span class="hljs-number">0</span>;
        array.forEach((element) =&gt; {
          sum += element;
        });
        expect(
          sum
        ).to.eql(
          <span class="hljs-number">15</span>
        );
        <span class="hljs-comment">/* #@range_end(forEach_sum) */</span>
        next();
      });
      it(<span class="hljs-string">"forEach文によるlength"</span>, (next) =&gt; {
        <span class="hljs-comment">/* #@range_begin(forEach_length) */</span>
        <span class="hljs-keyword">var</span> length = (array) =&gt; {
          <span class="hljs-keyword">var</span> result = <span class="hljs-number">0</span>;
          array.forEach((element) =&gt; {
            result += <span class="hljs-number">1</span>;
          });
          <span class="hljs-keyword">return</span> result;
        };
        expect(
          length([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])
        ).to.eql(
          <span class="hljs-number">5</span>
        );
        <span class="hljs-comment">/* #@range_end(forEach_length) */</span>
        next();
      });
    });
    describe(<span class="hljs-string">'再帰処理'</span>, () =&gt; {
      <span class="hljs-keyword">var</span> list = {
        empty: [],
        cons: (n, list) =&gt; {
          <span class="hljs-keyword">return</span> [n].concat(list);
        },
        head: (list) =&gt; {
          <span class="hljs-keyword">return</span> list[<span class="hljs-number">0</span>];
        },
        tail: (list) =&gt; {
          <span class="hljs-keyword">return</span> list.slice(<span class="hljs-number">1</span>,list.length);
        },
        isEmpty: (list) =&gt; {
          <span class="hljs-keyword">return</span> list.length === <span class="hljs-number">0</span>;
        }
      };
      it(<span class="hljs-string">'lengthの例'</span>, (next) =&gt; {
        <span class="hljs-keyword">var</span> match = (exp, pattern) =&gt; {
          <span class="hljs-keyword">return</span> exp.call(pattern, pattern);
        };
        <span class="hljs-keyword">var</span> empty = (pattern) =&gt; {
          <span class="hljs-keyword">return</span> pattern.empty;
        };
        <span class="hljs-keyword">var</span> cons = (x, xs) =&gt; {
          <span class="hljs-keyword">return</span> (pattern) =&gt; {
            <span class="hljs-keyword">return</span> pattern.cons(x, xs);
          };
        };
        <span class="hljs-keyword">var</span> isEmpty = (list) =&gt; {
          <span class="hljs-keyword">return</span> match(list, {
            empty: <span class="hljs-literal">true</span>,
            cons: (head, tail) =&gt; {
              <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            },
          })
        };
        <span class="hljs-keyword">var</span> head = (list) =&gt; {
          <span class="hljs-keyword">return</span> match(list, {
            empty: <span class="hljs-literal">undefined</span>,
            cons: (head, tail) =&gt; {
              <span class="hljs-keyword">return</span> head;
            },
          })
        };
        <span class="hljs-keyword">var</span> tail = (list) =&gt; {
          <span class="hljs-keyword">return</span> match(list, {
            empty: <span class="hljs-literal">undefined</span>,
            cons: (head, tail) =&gt; {
              <span class="hljs-keyword">return</span> tail;
            },
          })
        };
        <span class="hljs-comment">/* #@range_begin(recursive_length) */</span>
        <span class="hljs-keyword">var</span> length = (list, accumulator) =&gt; {
          <span class="hljs-keyword">return</span> match(list, {
            empty: accumulator,
            cons: (head, tail) =&gt; {
              <span class="hljs-keyword">return</span> length(tail, accumulator + <span class="hljs-number">1</span>); <span class="hljs-comment">// length関数を再帰的に呼び出す</span>
            },
          })
        };
        expect(
          length(empty, <span class="hljs-number">0</span>)
        ).to.eql(
          <span class="hljs-number">0</span>
        )
        expect(
          length(cons(<span class="hljs-number">1</span>,empty), <span class="hljs-number">0</span>)
        ).to.eql(
          <span class="hljs-number">1</span>
        )
        expect(
          length(cons(<span class="hljs-number">1</span>,cons(<span class="hljs-number">2</span>,cons(<span class="hljs-number">3</span>,empty))),<span class="hljs-number">0</span>)
        ).to.eql(
          <span class="hljs-number">3</span>
        )
        <span class="hljs-comment">/* #@range_end(recursive_length) */</span>
        <span class="hljs-comment">/* #@range_begin(recursive_sum) */</span>
        <span class="hljs-keyword">var</span> sum = (list, accumulator) =&gt; {
          <span class="hljs-keyword">return</span> match(list, {
            empty: accumulator,
            cons: (head, tail) =&gt; {
              <span class="hljs-keyword">return</span> sum(tail, accumulator + head);
            },
          })
        };
        expect(
          sum(empty, <span class="hljs-number">0</span>)
        ).to.eql(
          <span class="hljs-number">0</span>
        )
        expect(
          sum(cons(<span class="hljs-number">1</span>,empty), <span class="hljs-number">0</span>)
        ).to.eql(
          <span class="hljs-number">1</span>
        )
        expect(
          sum(cons(<span class="hljs-number">1</span>,cons(<span class="hljs-number">2</span>,cons(<span class="hljs-number">3</span>,empty))),<span class="hljs-number">0</span>)
        ).to.eql(
          <span class="hljs-number">6</span>
        )
        <span class="hljs-comment">/* #@range_end(recursive_sum) */</span>
        next();
      });
      describe(<span class="hljs-string">'mapの例'</span>, () =&gt; {
        <span class="hljs-comment">/* #@range_begin(recursive_map) */</span>
        <span class="hljs-keyword">var</span> map = (alist, transform) =&gt; {
          <span class="hljs-keyword">if</span> (list.isEmpty(alist)) {
            <span class="hljs-keyword">return</span> list.empty;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> x = list.head(alist);
            <span class="hljs-keyword">var</span> xs = list.tail(alist);
            <span class="hljs-keyword">return</span> list.cons(transform(x), map(xs, transform));
          }
        };
        <span class="hljs-comment">/* #@range_end(recursive_map) */</span>
        <span class="hljs-keyword">var</span> alist = list.cons(<span class="hljs-number">1</span>,
                              list.cons(<span class="hljs-number">2</span>,
                                        list.cons(<span class="hljs-number">3</span>,
                                                  list.empty)));
        <span class="hljs-keyword">var</span> double = (n) =&gt; {
          <span class="hljs-keyword">return</span> n * <span class="hljs-number">2</span>;
        };
        <span class="hljs-keyword">var</span> doubledList = map(alist, double);
        expect(
          list.head(doubledList)
        ).to.eql(
          <span class="hljs-number">2</span>
        );
        expect(
          list.head(list.tail(doubledList))
        ).to.eql(
          <span class="hljs-number">4</span>
        );
        expect(
          list.head(list.tail(list.tail(doubledList)))
        ).to.eql(
          <span class="hljs-number">6</span>
        );
      });
      describe(<span class="hljs-string">'sumの例'</span>, () =&gt; {
        <span class="hljs-comment">/* #@range_begin(recursive_sum) */</span>
        <span class="hljs-keyword">var</span> sum = (alist, accumulator) =&gt; {
          <span class="hljs-keyword">if</span> (list.isEmpty(alist)) {
            <span class="hljs-keyword">return</span> accumulator;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> x = list.head(alist);
            <span class="hljs-keyword">var</span> xs = list.tail(alist);
            <span class="hljs-keyword">return</span> sum(xs, accumulator + x);
          }
        };
        <span class="hljs-comment">/* #@range_end(recursive_sum) */</span>
        <span class="hljs-keyword">var</span> alist = list.cons(<span class="hljs-number">1</span>,
                              list.cons(<span class="hljs-number">2</span>,
                                        list.cons(<span class="hljs-number">3</span>,
                                                  list.empty)));
        expect(
          sum(alist, <span class="hljs-number">0</span>)
        ).to.eql(
          <span class="hljs-number">6</span>
        );
      });
      describe(<span class="hljs-string">'maximumの例'</span>, () =&gt; {
        <span class="hljs-comment">/* #@range_begin(recursive_maximum) */</span>
        <span class="hljs-keyword">var</span> maximum = (alist, accumulator) =&gt; {
          <span class="hljs-keyword">if</span> (list.isEmpty(alist)) {
            <span class="hljs-keyword">return</span> accumulator;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> x = list.head(alist);
            <span class="hljs-keyword">var</span> xs = list.tail(alist);
            <span class="hljs-keyword">if</span>(x &gt; accumulator) {
              <span class="hljs-keyword">return</span> maximum(xs, x);
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-keyword">return</span> maximum(xs, accumulator);
            }
          }
        };
        <span class="hljs-comment">/* #@range_end(recursive_maximum) */</span>
        <span class="hljs-keyword">var</span> alist = list.cons(<span class="hljs-number">2</span>,
                              list.cons(<span class="hljs-number">4</span>,
                                        list.cons(<span class="hljs-number">1</span>,
                                                  list.empty)));
        expect(
          maximum(alist, <span class="hljs-number">0</span>)
        ).to.eql(
          <span class="hljs-number">4</span>
        );
      });
      describe(<span class="hljs-string">'factorialの例'</span>, () =&gt; {
        it(<span class="hljs-string">"factorial by recursive process"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">next</span>) </span>{
          <span class="hljs-comment">/* #@range_begin(recursive_factorial) */</span>
          <span class="hljs-keyword">var</span> factorial = (n) =&gt; {
            <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) {
              <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-keyword">return</span> n * factorial(n - <span class="hljs-number">1</span>);
            }
          };
          <span class="hljs-comment">/* #@range_end(recursive_factorial) */</span>
          expect(
            factorial(<span class="hljs-number">6</span>)
          ).to.eql(
            <span class="hljs-number">720</span>
          );
          next();
        });
        it(<span class="hljs-string">"factorial by iterative process"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">next</span>) </span>{
          <span class="hljs-comment">/* #@range_begin(iterative_factorial) */</span>
          <span class="hljs-keyword">var</span> factorial = (n) =&gt; {
            <span class="hljs-keyword">return</span> fact_iter(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);
          };
          <span class="hljs-keyword">var</span> fact_iter = (product, counter, max_count) =&gt; {
            <span class="hljs-keyword">if</span> (counter &gt; max_count) {
              <span class="hljs-keyword">return</span> product;
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-keyword">return</span> fact_iter(counter * product, counter + <span class="hljs-number">1</span>, max_count);
            }
          };
          expect(factorial(<span class="hljs-number">6</span>)).to.eql(<span class="hljs-number">720</span>);
          <span class="hljs-comment">/* #@range_end(iterative_factorial) */</span>
          next();
        });
        it(<span class="hljs-string">'命令的factorial'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">next</span>) </span>{
          <span class="hljs-comment">/* #@range_begin(imperative_factorial) */</span>
          <span class="hljs-keyword">var</span> factorial = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) </span>{
            <span class="hljs-keyword">var</span> index, result;
            result = <span class="hljs-number">1</span>;
            index = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">while</span> (index &lt; n + <span class="hljs-number">1</span>) {
              result = result * index;
              index = index + <span class="hljs-number">1</span>;
            }
            <span class="hljs-keyword">return</span> result;
          };
          <span class="hljs-comment">/* #@range_end(imperative_factorial) */</span>
          expect(
            factorial(<span class="hljs-number">5</span>)
          ).to.eql(
            <span class="hljs-number">120</span>
          );
          next();
        });
      });
    });
  });
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
